{% extends "base.html" %}
{% block title %}Orders{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Orders</h2>
        <a href="{% url 'store:order_add' %}" class="btn btn-primary">Add Order</a>
    </div>

    {% if orders %}
    <div class="row g-4">
        {% for order in orders %}
        <div class="col-md-6">
            <div class="card shadow-sm h-100">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">Order #{{ order.id }}</h5>
                    <p><strong>Customer:</strong> {{ order.full_name }}</p>
                    <p><strong>Email:</strong> {{ order.email }}</p>
                    <p><strong>Address:</strong> {{ order.address }}</p>
                    <p><strong>Phone:</strong> {{ order.phone }}</p>
                    <p><strong>Total Price:</strong> â‚¹{{ order.total_price }}</p>
                    
                    <p><strong>Status:</strong> 
                        <span class="badge 
                            {% if order.status == 'Pending' %} bg-warning 
                            {% elif order.status == 'Completed' %} bg-success 
                            {% elif order.status == 'Cancelled' %} bg-danger 
                            {% else %} bg-secondary {% endif %}">
                            {{ order.status }}
                        </span>
                    </p>

                    <div class="mt-auto d-flex justify-content-between">
                        <a href="{% url 'store:order_edit' order.pk %}" class="btn btn-sm btn-warning">Edit</a>
                        <a href="{% url 'store:order_delete' order.pk %}" class="btn btn-sm btn-danger">Delete</a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-info text-center">No orders found.</div>
    {% endif %}
</div>
{% endblock %}
